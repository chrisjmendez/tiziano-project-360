package org.tizianoproject.view{	import com.chargedweb.swfsize.SWFSizeEvent;	import com.chrisaiv.utils.ShowHideManager;		import flash.display.MovieClip;	import flash.display.Sprite;	import flash.events.Event;	import flash.events.FullScreenEvent;	import flash.text.TextField;
		public class FooterView extends MovieClip	{		private static const DEFAULT_HEIGHT:Number = 96;		private static const MARGIN_BOTTOM:Number = 5;				public var title_txt:TextField;		public var hed_txt:TextField;				private var bg:Sprite;		private var browserWindowWidth:Number;		private var browserWindowBottom:Number;				public function FooterView(  )		{			addEventListener(Event.ADDED_TO_STAGE, addedToStageHandler, false, 0, true );			addEventListener(Event.REMOVED_FROM_STAGE, removedFromStageHandler, false, 0, true );			stage.addEventListener( FullScreenEvent.FULL_SCREEN, onFullScreenHandler, false, 0, true );		}				public function updateText( string:String ):void		{			title_txt.text = string;		}				public function updateYPos( value:Number ):void		{			y = value;		}				private function updateBackground( value:Number ):void		{			bg.width = value;		}						/**********************************		 * 		 **********************************/				private function initBackground():void		{			bg = new Sprite();			bg.name = "bg";			bg.mouseChildren = true;			bg.mouseEnabled = false;						bg.graphics.beginFill( 0x000000, 1 );			bg.graphics.drawRect( 0, 0, stage.stageWidth, DEFAULT_HEIGHT );			bg.graphics.endFill();						bg.graphics.lineStyle(1, 0x666666, 1 );			bg.graphics.moveTo( 0, 0 );			bg.graphics.lineTo( stage.stageWidth, 0 );						addChildAt( bg, 0 );		}				/**********************************		 * Event		 **********************************/				public function swfSizerHandler( e:SWFSizeEvent ):void		{			//trace( "FooterView::swfSizerHandler:", e.bottomY, e.rightX, e.windowHeight );			browserWindowWidth = e.rightX;			browserWindowBottom = e.windowHeight;						updateYPos( browserWindowBottom - height );			updateBackground( browserWindowWidth );		}		private function onFullScreenHandler( e:FullScreenEvent ):void		{			var w:Number = stage.stageWidth;			var h:Number = stage.stageHeight;			trace( "Background::onFullScreenHandler:", e.fullScreen, w, h );						if( e.fullScreen ){				updateYPos( stage.stageHeight - height );				updateBackground( stage.stageWidth );			} else {				updateYPos( browserWindowBottom - height );				updateBackground( browserWindowWidth );			}		}						private function addedToStageHandler( e:Event ):void		{			//trace( "HeaderView::addedToStageHandler:" );			initBackground();		}				private function removedFromStageHandler( e:Event ):void		{			trace( "HeaderView::removedFromStageHandler:" );		}			}}