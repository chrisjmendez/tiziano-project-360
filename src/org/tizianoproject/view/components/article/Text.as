/** * ------------------------------------------------------- * Text block * ------------------------------------------------------- *  * Version: 1 * Created: cmendez@tizianoproject.org * Modified: 6/16/2010 *  * ------------------------------------------------------- * Notes: * This will write HTML content *  * */package org.tizianoproject.view.components.article{	import com.chrisaiv.utils.ShowHideManager;	import com.chrisaiv.utils.TextFormatter;		import flash.display.MovieClip;	import flash.display.Sprite;	import flash.events.Event;	import flash.text.Font;	import flash.text.TextField;	import flash.text.TextFieldAutoSize;		public class Text extends MovieClip	{		private static const DEFAULT_X_POS:Number = 34;		private static const DEFAULT_Y_POS:Number = 110;		private static const DEFAULT_WIDTH:Number = 408;		private static const DEFAULT_HEIGHT:Number = 334;				public var text_txt:TextField;				private var textHolder:MovieClip;		private var textField:TextField;		private var textScrollBar:Scroller;				private var font:Font;		private var randomColor:Number = Math.random() * 0xffffff;				public function Text()		{			x = DEFAULT_X_POS;			y = DEFAULT_Y_POS;			initTextHolder();			initTextField();						addEventListener(Event.ADDED_TO_STAGE, onAddedToStageHandler, false, 0, true );			addEventListener(Event.REMOVED_FROM_STAGE, onRemovedFromStageHandler, false, 0, true );		}				private function init():void		{			trace( "Text::init:" );		}				/**********************************		 * Init		 **********************************/		private function initTextHolder():void		{			textHolder = new MovieClip();			textHolder.x = 17;			textHolder.y = 6;			textHolder.graphics.beginFill( randomColor, 0 );			textHolder.graphics.drawRect( 0, 0, DEFAULT_WIDTH, DEFAULT_HEIGHT );			textHolder.graphics.endFill();			textHolder.useSmallTrack = true;			ShowHideManager.addContent( (this as Text), textHolder );		}		private function initTextScrollBar():void		{						textScrollBar = new Scroller( textHolder );			textScrollBar.name = "textScrollBar";			ShowHideManager.addContent( (this as Text), textScrollBar );		}					private function initTextField():void		{			font = new AGaramondSmallCaps();						textField = new TextField();			textField.name = "textField";			textField.autoSize = TextFieldAutoSize.LEFT;			textField.defaultTextFormat = TextFormatter.returnTextFormat( font.fontName, 0xffffff, 18, 6 );			textField.embedFonts = true;						textField.selectable = false;			textField.wordWrap = true;			textField.multiline = true;			textField.mouseEnabled = true;			//textField.border = true;			//textField.borderColor = 0xffffff;						textField.x = 0;			textField.y = 0;			textField.width = DEFAULT_WIDTH;						ShowHideManager.addContent( textHolder, textField );		}				/**********************************		 * Public Methods		 **********************************/		public function load( content:String ):void		{						writeText( content );			initTextScrollBar();					}				public function writeText( string:String ):void		{			textField.htmlText = string;		}				public function clearText():void		{			textField.htmlText = "";		}				/**********************************		 * Unload		 **********************************/		private function unload():void		{			trace( "Text::unload:" );			ShowHideManager.unloadContent( (this as Text ) );		}				/**********************************		 * Event Handlers		 **********************************/		private function onAddedToStageHandler( e:Event ):void		{			init();			//trace( "Text::onAddedToStageHandler:" );		}				private function onRemovedFromStageHandler( e:Event ):void		{			unload();			//trace( "Text::onRemovedFromStageHandler:" );		}	}}